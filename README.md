# DATA_Robot-
达闼杯——机器人大模型与具身智能挑战赛
## [更新中]计划比赛执行步骤
1. AEM：利用检测模型(or分割相机)及深度相机三维重建方法生成语义地图
2. VLN：在重建的基础上进行vln模型导航，在环境中寻找geust(如何实现自主导航找到顾客)
    * agent 站在该点，获取全景相机，分割相机检测人，里三维重建，算世界坐标，navto 到人。
    * 检测到guest则停止，触发任务分类如对话，分配座位，点单：
    * 检测到guest后进入对话状态
    * 分配座位：
        * 设计promt,获取对话并解析
        * LLM将答案解析为固定格式json类型：\
            {\
            'num':3,      
            'feature1':"soft_nearthewindow",\
            'feature2':"near the window",\
            }\
        对于对话中与给定选项的椅子，其中feature将从有限个给定option特征中选择最相似的一项
        * 将结果分配到座位分配进入ChairList匹配，调用语义地图navto接口进行椅子导航
        * 回答含有error的问题
4. GQA: 完成点餐基本对话，场景对话 (大语言模型接入和对话能力)
    * 点餐
    * GQA询问附近的场景对话
    * 结束任务
5. 视觉语言抓取：暂定调取接口实现

## [更新中]TO DO:11.9-11-12 
* 总流程1.0，先语义地图-调vln，寻找guest
    * 如何训练：强化学习，拟合轨迹的方法，（x,y）含义可以变成预测到的人的位置。
    * 如何采数据集：在场景初始化一个npc,初始化机器人位置坐标，调接口导航，保存中间经过的点，每个点的全景相机图，以及起点终点，按照与路径的偏离进行赏罚。
* 总流程1.1，先语义地图-调检测模型（全景图）-全景图大概率能检测到人(深度相机估计坐标)-调nav接口走到guest前
* 总流程2，在1的基础上实现，[对话-分配座位-点餐-场景对话](GPT qxy)-[执行特定任务]（调接口mkj）
* chairlist.py 分配后座椅的更新，测试正确性（mkj）
* 数据集：
    * 获取Starbucks里所有座椅的类型坐标以及对应的位置及特征存储在(ljx)
    * vln model可根据数据集的训练方式,可调整更佳的输出结构，(ljx)
